---
title: "test"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)

```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
one <- readxl::read_xls("download.xls", skip = 6)

covid_states_daily <- read.csv("us_states_covid19_daily.csv")
covid_daily <- read.csv("us_covid19_daily.csv")
covid_counties_daily <- read.csv("us_counties_covid19_daily.csv")

one

```
```{r}
thirdQuarter2019 <- ymd("2019-09-30") 
fourthQuarter2019 <- ymd("2019-12-31") 

firstQuarter2020 <- ymd("2020-03-31")
secondQuarter2020 <- ymd("2020-06-31")
thirdQuarter2020 <- ymd("2020-09-30")
fourthQuarter2020 <- ymd("2020-12-31")

covid_daily
covid_daily_useful <- covid_daily %>% select(date, positive, negative, recovered, death, positiveIncrease, negativeIncrease, hospitalizedIncrease, deathIncrease) 
covid_daily_useful$date <- ymd(covid_daily_useful$date)
covid_daily_useful
covid_daily_useful <- mutate(covid_daily_useful, quarter = ifelse(covid_daily_useful$date > thirdQuarter2019 & covid_daily_useful$date <= fourthQuarter2019, "2019 Q4",
                                                              ifelse(covid_daily_useful$date <= firstQuarter2020, "2020 Q1", 
                                                              ifelse(covid_daily_useful$date <= secondQuarter2020, "2020 Q2",""                                                                 ))))                                     
covid_daily_useful
```                                                

```{r}cleaned <- one %>% select(...2, Q4...10, Q1...11 , Q2...12, Q3...13) #%>% rename(Industries = ...2,  '2019 Q4' = ...10, '2020 Q1' = '2020', '2020 Q2' = ...12, '2020 Q3' = ...1
```3)
onecleaned
onecleaned <- onecleaned %>% slice(-98: -107)
onecleaned$Q4...10 <- as.double(onecleaned$Q4...10)
onecleaned$Q1...11 <- as.double(onecleaned$Q1...11)
onecleaned$Q2...12 <- as.double(onecleaned$Q2...12)
onecleaned$Q3...13 <- as.double(onecleaned$Q3...13)

onecleaned %>% gather( Q4...10, Q1...11 , Q2...12, Q3...13, key = "Quarter", value = "GDP")

filtered <- onecleaned %>% gather( Q4...10, Q1...11 , Q2...12, Q3...13, key = "Quarter", value = "GDP") %>% filter(...2 == 'All industries')



filtered
ggplot(filtered) + geom_boxplot(aes(GDP, Quarter))

#onecleaned
#onecleaned <- transmute(onecleaned, '2019 Q4' = as.double('2019 Q4'), '2020 Q1' = as.double('2020 Q1'), '2020 Q2' = as.double('2020 Q2'), '2020 Q3' = as.double('2020 Q3'), '2020 Q4' = as.double('2020 Q4'))
```

```{r}
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
